{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/rupam/Documents/Development/react-ecommerce-app/src/App.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./logo.svg\";\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport HomePage from './pages/homepage/hompage.component';\nimport CheckOutPage from './pages/checkOutPage/checkoutpage.component';\nimport Shop from './pages/shop/shop.component';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Header from './components/header/header.component';\nimport SignInAndSignOut from './pages/signInAndSignOut/signInAndSignOut';\nimport { auth, createUserProfileDocument } from './fireBase/firebase.utils'; //import {auth, createUserProfileDocument, addCollectionAndDocument} from './fireBase/firebase.utils';\n\nimport 'firebase/firestore';\nimport { SignInSuccess, checkUserSession } from './redux/user/user.actions';\nimport { createStructuredSelector } from 'reselect';\nimport { SelectUserInfo } from './redux/user/user.selector'; //import {SelectShopDataForPreview} from './redux/shop/shop.selector';\n// const ProductPage=(props)=>{\n//   console.log('Hii');\n//   return(\n//     <div>\n//     <Link to='/productPage/:product'>Product</Link>\n//     <button onClick={()=>props.history.push('/')}>HomePage</button>\n//     <h1>Product Page</h1>\n//     </div>\n//     );\n//   };\n// const Product=(props)=>{\n//   console.log(props);\n//   return(\n//     <h1>{props.match.params.product}</h1>);\n// <Route exact path='/productPage' component={ProductPage}/>\n// <Route path='/productPage/:product' component={Product}/>\n//   };\n//class App extends React.Component{\n\nconst App = ({\n  checkUserSession,\n  currentUser\n}) => {\n  _s();\n\n  //unsubscribeFromAuth=null;\n  useEffect(() => {\n    checkUserSession();\n  }, [checkUserSession]); // componentDidMount()\n  // {\n  //   const {checkUserSession}= this.props;\n  //   checkUserSession();\n  //   this.unsubscribeFromAuth=auth.onAuthStateChanged\n  //   (\n  //     async userAuth=>\n  //     {\n  //       if(userAuth)\n  //       {\n  //         //console.log(userAuth);\n  //         const userRef=await createUserProfileDocument(userAuth);\n  //         //console.log(userRef);\n  //         userRef.onSnapshot\n  //         (\n  //           snapShot=>\n  //           {\n  //             SetCurrentUser\n  //             (\n  //               {\n  //                 currentUser:\n  //                 {\n  //                   id:snapShot.id,\n  //                   ...snapShot.data() \n  //                 }\n  //               }\n  //               //,()=>{console.log(this.state);}\n  //             );\n  //           }\n  //         )\n  //       }\n  //       SetCurrentUser(userAuth);\n  //       //addCollectionAndDocument('Collection',collectionArray.map(({title,items})=>({title,items})));\n  //    \n  //   );\n  //componentWillUnmount(){\n  // this.unsubscribeFromAuth()\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/shop\",\n        component: Shop\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/signIn\",\n        render: () => currentUser ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 64\n        }, this) : /*#__PURE__*/_jsxDEV(SignInAndSignOut, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 85\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/checkout\",\n        component: CheckOutPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 7\n  }, this);\n};\n\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = App;\nconst mapStateToProps = createStructuredSelector({\n  currentUser: SelectUserInfo //collectionArray:SelectShopDataForPreview\n\n});\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession: () => dispatch(checkUserSession())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/rupam/Documents/Development/react-ecommerce-app/src/App.js"],"names":["React","useEffect","connect","HomePage","CheckOutPage","Shop","Route","Switch","Redirect","Header","SignInAndSignOut","auth","createUserProfileDocument","SignInSuccess","checkUserSession","createStructuredSelector","SelectUserInfo","App","currentUser","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";;;;;;AACA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,WAAP;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,YAAP,MAAyB,6CAAzB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,SAAQC,KAAR,EAAeC,MAAf,EAAuBC,QAAvB,QAAsC,kBAAtC;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,gBAAP,MAA6B,2CAA7B;AACA,SAAQC,IAAR,EAAcC,yBAAd,QAA8C,2BAA9C,C,CACA;;AACA,OAAO,oBAAP;AACA,SAAQC,aAAR,EAAuBC,gBAAvB,QAA8C,2BAA9C;AAEA,SAAQC,wBAAR,QAAuC,UAAvC;AACA,SAAQC,cAAR,QAA6B,4BAA7B,C,CACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACM;AACA;AACN;AAEA;;AACA,MAAMC,GAAG,GAAE,CAAC;AAACH,EAAAA,gBAAD;AAAkBI,EAAAA;AAAlB,CAAD,KAAkC;AAAA;;AAE3C;AACAjB,EAAAA,SAAS,CAAC,MAAI;AAACa,IAAAA,gBAAgB;AAAI,GAA1B,EAA2B,CAACA,gBAAD,CAA3B,CAAT,CAH2C,CAK3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACC;;AAIG,sBACA;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,MAAD;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,SAAS,EAAEX;AAAjC;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,SAAS,EAAEE;AAA/B;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,SAAlB;AAA4B,QAAA,MAAM,EAAE,MAAIa,WAAW,gBAAE,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAAF,gBAAuB,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAA1E;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,WAAlB;AAA8B,QAAA,SAAS,EAAEd;AAAzC;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AAYH,CA5DH;;GAAMa,G;;KAAAA,G;AA6DN,MAAME,eAAe,GAACJ,wBAAwB,CAAC;AAC7CG,EAAAA,WAAW,EAACF,cADiC,CAE7C;;AAF6C,CAAD,CAA9C;;AAKA,MAAMI,kBAAkB,GAACC,QAAQ,KAAG;AAClCP,EAAAA,gBAAgB,EAAE,MAAKO,QAAQ,CAACP,gBAAgB,EAAjB;AADG,CAAH,CAAjC;;AAIA,eAAeZ,OAAO,CAACiB,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CH,GAA7C,CAAf","sourcesContent":["import logo from './logo.svg';\nimport React, {useEffect} from 'react'\nimport './App.css';\nimport {connect} from 'react-redux';\nimport HomePage from './pages/homepage/hompage.component';\nimport CheckOutPage from './pages/checkOutPage/checkoutpage.component';\nimport Shop from './pages/shop/shop.component';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport Header from './components/header/header.component';\nimport SignInAndSignOut from './pages/signInAndSignOut/signInAndSignOut';\nimport {auth, createUserProfileDocument} from './fireBase/firebase.utils';\n//import {auth, createUserProfileDocument, addCollectionAndDocument} from './fireBase/firebase.utils';\nimport 'firebase/firestore';\nimport {SignInSuccess, checkUserSession} from './redux/user/user.actions'\n\nimport {createStructuredSelector} from 'reselect';\nimport {SelectUserInfo} from './redux/user/user.selector';\n//import {SelectShopDataForPreview} from './redux/shop/shop.selector';\n\n\n// const ProductPage=(props)=>{\n//   console.log('Hii');\n//   return(\n//     <div>\n//     <Link to='/productPage/:product'>Product</Link>\n//     <button onClick={()=>props.history.push('/')}>HomePage</button>\n//     <h1>Product Page</h1>\n//     </div>\n//     );\n//   };\n\n// const Product=(props)=>{\n//   console.log(props);\n//   return(\n    \n//     <h1>{props.match.params.product}</h1>);\n      // <Route exact path='/productPage' component={ProductPage}/>\n      // <Route path='/productPage/:product' component={Product}/>\n//   };\n\n//class App extends React.Component{\nconst App =({checkUserSession,currentUser})=>{\n  \n  //unsubscribeFromAuth=null;\n  useEffect(()=>{checkUserSession();},[checkUserSession])\n  \n  // componentDidMount()\n  // {\n  //   const {checkUserSession}= this.props;\n  //   checkUserSession();\n  //   this.unsubscribeFromAuth=auth.onAuthStateChanged\n  //   (\n  //     async userAuth=>\n  //     {\n  //       if(userAuth)\n  //       {\n  //         //console.log(userAuth);\n  //         const userRef=await createUserProfileDocument(userAuth);\n  //         //console.log(userRef);\n  //         userRef.onSnapshot\n  //         (\n  //           snapShot=>\n  //           {\n  //             SetCurrentUser\n  //             (\n  //               {\n  //                 currentUser:\n  //                 {\n  //                   id:snapShot.id,\n  //                   ...snapShot.data() \n  //                 }\n  //               }\n  //               //,()=>{console.log(this.state);}\n  //             );\n  //           }\n  //         )\n          \n  //       }\n  //       SetCurrentUser(userAuth);\n  //       //addCollectionAndDocument('Collection',collectionArray.map(({title,items})=>({title,items})));\n  //    \n      \n  //   );\n  \n  //componentWillUnmount(){\n   // this.unsubscribeFromAuth()\n    \n  \n\n      return (\n      <div>\n        <Header/>\n        <Switch>\n          <Route exact path='/' component={HomePage}/>\n          <Route path='/shop' component={Shop}/>\n          <Route exact path='/signIn' render={()=>currentUser?(<Redirect to='/'/>):(<SignInAndSignOut/>)}/>\n          <Route exact path='/checkout' component={CheckOutPage}/>\n        </Switch>\n      </div>\n    );\n    \n  }\nconst mapStateToProps=createStructuredSelector({\n  currentUser:SelectUserInfo,\n  //collectionArray:SelectShopDataForPreview\n\n})\nconst mapDispatchToProps=dispatch=>({\n  checkUserSession: ()=> dispatch(checkUserSession())\n}); \n\nexport default connect(mapStateToProps, mapDispatchToProps)(App); \n "]},"metadata":{},"sourceType":"module"}